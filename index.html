<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Three Word Taboo</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      .collapsible {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
      }
      .collapsible.open {
        max-height: 400px;
      }
      button {
        touch-action: manipulation;
      }
    </style>
  </head>

  <body
    class="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex justify-center"
  >
    <div
      class="w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl p-3 sm:p-4 md:p-6 lg:p-8"
    >
      <!-- Header -->
      <header class="text-center mb-6">
        <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2">
          Three Word Taboo
        </h1>
      </header>

      <!-- Score -->
      <div class="flex justify-center gap-6 mb-6">
        <div class="bg-white/10 rounded-2xl px-5 py-3 text-center">
          <p class="text-purple-200 text-sm">Correct</p>
          <p
            id="correct-count"
            class="text-2xl sm:text-3xl font-bold text-emerald-400"
          >
            0
          </p>
        </div>

        <div class="bg-white/10 rounded-2xl px-5 py-3 text-center">
          <p class="text-purple-200 text-sm">Remaining</p>
          <p
            id="remaining-count"
            class="text-2xl sm:text-3xl font-bold text-amber-400"
          >
            0
          </p>
        </div>
      </div>

      <!-- Word Card -->
      <div
        class="bg-white/95 rounded-3xl p-6 sm:p-8 shadow-2xl text-center mb-6"
      >
        <div
          id="category-badge"
          class="inline-block px-4 py-2 rounded-full text-white text-sm font-semibold mb-4 bg-indigo-500"
        >
          Category
        </div>

        <h2
          id="current-word"
          class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-800 mb-6 break-words leading-tight"
        >
          Press Start
        </h2>

        <div class="flex justify-center gap-4">
          <button
            id="wrong-btn"
            class="w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-full bg-red-500 text-white text-2xl font-bold hover:scale-110 transition"
          >
            âœ—
          </button>

          <button
            id="correct-btn"
            class="w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-full bg-emerald-500 text-white text-2xl font-bold hover:scale-110 transition"
          >
            âœ“
          </button>
        </div>
      </div>

      <!-- Reset -->
      <div class="text-center mb-6">
        <button
          id="reset-btn"
          class="px-6 py-3 bg-indigo-500 text-white rounded-xl hover:bg-indigo-600"
        >
          Reset Game
        </button>
      </div>

      <!-- History -->
      <div>
        <button
          id="toggle-history"
          class="w-full bg-white/10 text-white px-4 py-3 rounded-t-2xl flex justify-between"
        >
          <span>Recent Words</span>
          <span id="toggle-icon">â–¼</span>
        </button>

        <div id="history-box" class="collapsible bg-white/5 rounded-b-2xl">
          <div
            id="history-list"
            class="p-4 space-y-2 max-h-48 sm:max-h-64 overflow-y-auto text-white/80 text-sm"
          >
            No words guessed yet
          </div>
        </div>
      </div>
    </div>

    <script>
      // ================= DATA =================

      const CATEGORY_ORDER = [
        "Animals",
        "Food",
        "Movies",
        "Companies",
        "Professions",
      ];

      const WORDS = [
        { word: "Titanic", category: "Movies" },
        { word: "Avatar", category: "Movies" },
        { word: "The Matrix", category: "Movies" },
        { word: "Jurassic Park", category: "Movies" },
        { word: "Frozen", category: "Movies" },
        { word: "Inception", category: "Movies" },
        { word: "The Lion King", category: "Movies" },
        { word: "Avengers: Endgame", category: "Movies" },
        { word: "Spider-Man: No Way Home", category: "Movies" },
        { word: "Harry Potter and the Sorcerer's Stone", category: "Movies" },
        { word: "Toy Story", category: "Movies" },
        { word: "The Dark Knight", category: "Movies" },
        { word: "Jaws", category: "Movies" },
        { word: "Shrek", category: "Movies" },
        { word: "Top Gun: Maverick", category: "Movies" },
        { word: "Interstellar", category: "Movies" },
        { word: "Black Panther", category: "Movies" },
        { word: "The Godfather", category: "Movies" },
        { word: "Home Alone", category: "Movies" },
        { word: "Kung Fu Panda", category: "Movies" },
        { word: "Elephant", category: "Animals" },
        { word: "Giraffe", category: "Animals" },
        { word: "Kangaroo", category: "Animals" },
        { word: "Dolphin", category: "Animals" },
        { word: "Penguin", category: "Animals" },
        { word: "Panda", category: "Animals" },
        { word: "Tiger", category: "Animals" },
        { word: "Zebra", category: "Animals" },
        { word: "Hippopotamus", category: "Animals" },
        { word: "Cheetah", category: "Animals" },
        { word: "Koala", category: "Animals" },
        { word: "Flamingo", category: "Animals" },
        { word: "Octopus", category: "Animals" },
        { word: "Chameleon", category: "Animals" },
        { word: "Rhinoceros", category: "Animals" },
        { word: "Squirrel", category: "Animals" },
        { word: "Peacock", category: "Animals" },
        { word: "Crocodile", category: "Animals" },
        { word: "Hedgehog", category: "Animals" },
        { word: "Racoon", category: "Animals" },
        { word: "Doctor", category: "Professions" },
        { word: "Teacher", category: "Professions" },
        { word: "Engineer", category: "Professions" },
        { word: "Pilot", category: "Professions" },
        { word: "Chef", category: "Professions" },
        { word: "Lawyer", category: "Professions" },
        { word: "Architect", category: "Professions" },
        { word: "Firefighter", category: "Professions" },
        { word: "Police Officer", category: "Professions" },
        { word: "Dentist", category: "Professions" },
        { word: "Pharmacist", category: "Professions" },
        { word: "Journalist", category: "Professions" },
        { word: "Electrician", category: "Professions" },
        { word: "Mechanic", category: "Professions" },
        { word: "Photographer", category: "Professions" },
        { word: "Accountant", category: "Professions" },
        { word: "Nurse", category: "Professions" },
        { word: "Plumber", category: "Professions" },
        { word: "Scientist", category: "Professions" },
        { word: "Barber", category: "Professions" },
        { word: "Apple", category: "Companies" },
        { word: "Google", category: "Companies" },
        { word: "Microsoft", category: "Companies" },
        { word: "Shopee", category: "Companies" },
        { word: "Tesla", category: "Companies" },
        { word: "Samsung", category: "Companies" },
        { word: "Netflix", category: "Companies" },
        { word: "McDonald's", category: "Companies" },
        { word: "Nike", category: "Companies" },
        { word: "Adidas", category: "Companies" },
        { word: "Coca-Cola", category: "Companies" },
        { word: "Disney", category: "Companies" },
        { word: "Intel", category: "Companies" },
        { word: "Sony", category: "Companies" },
        { word: "Toyota", category: "Companies" },
        { word: "BMW", category: "Companies" },
        { word: "Huawei", category: "Companies" },
        { word: "Meta", category: "Companies" },
        { word: "Grab", category: "Companies" },
        { word: "Airbnb", category: "Companies" },
        { word: "Pizza", category: "Food" },
        { word: "Burger", category: "Food" },
        { word: "Sushi", category: "Food" },
        { word: "Spaghetti", category: "Food" },
        { word: "Fried Rice", category: "Food" },
        { word: "Nasi Lemak", category: "Food" },
        { word: "Ice Cream", category: "Food" },
        { word: "Chocolate", category: "Food" },
        { word: "Pancakes", category: "Food" },
        { word: "Sandwich", category: "Food" },
        { word: "Dumplings", category: "Food" },
        { word: "Tacos", category: "Food" },
        { word: "Laksa", category: "Food" },
        { word: "Salad", category: "Food" },
        { word: "Steak", category: "Food" },
        { word: "Ramen", category: "Food" },
        { word: "Lasagna", category: "Food" },
        { word: "Popcorn", category: "Food" },
        { word: "Donut", category: "Food" },
        { word: "Char Koay Teow", category: "Food" },
      ].map((w) => ({ ...w, guessed: false }));

      // ================= GAME LOGIC =================

      let categoryIndex = 0;
      let currentWord = null;
      let history = [];

      const correctEl = document.getElementById("correct-count");
      const remainingEl = document.getElementById("remaining-count");
      const wordEl = document.getElementById("current-word");
      const badgeEl = document.getElementById("category-badge");
      const historyList = document.getElementById("history-list");

      // ---------- helpers ----------

      function getRemaining() {
        return WORDS.filter((w) => !w.guessed);
      }

      function getNextWord() {
        const remaining = getRemaining();
        if (!remaining.length) return null;

        for (let i = 0; i < CATEGORY_ORDER.length; i++) {
          const idx = (categoryIndex + i) % CATEGORY_ORDER.length;
          const cat = CATEGORY_ORDER[idx];
          const pool = remaining.filter((w) => w.category === cat);

          if (pool.length) {
            categoryIndex = (idx + 1) % CATEGORY_ORDER.length;
            return pool[Math.floor(Math.random() * pool.length)];
          }
        }

        return remaining[0];
      }

      function refreshCounters() {
        correctEl.textContent = WORDS.filter((w) => w.guessed).length;
        remainingEl.textContent = getRemaining().length;
      }

      function showWord() {
        currentWord = getNextWord();
        if (!currentWord) {
          wordEl.textContent = "All Done ðŸŽ‰";
          badgeEl.textContent = "Finished";
          return;
        }

        wordEl.textContent = currentWord.word;
        badgeEl.textContent = currentWord.category;
      }

      // ---------- buttons ----------

      document.getElementById("correct-btn").onclick = () => {
        if (!currentWord) return;
        currentWord.guessed = true;
        history.unshift(currentWord.word);
        updateHistory();
        refreshCounters();
        showWord();
      };

      document.getElementById("wrong-btn").onclick = () => {
        showWord();
      };

      document.getElementById("reset-btn").onclick = () => {
        WORDS.forEach((w) => (w.guessed = false));
        history = [];
        categoryIndex = 0;
        updateHistory();
        refreshCounters();
        showWord();
      };

      // ---------- history ----------

      function updateHistory() {
        if (!history.length) {
          historyList.innerHTML = "No words guessed yet";
          return;
        }
        historyList.innerHTML = history
          .slice(0, 10)
          .map(
            (w) => `<div class="bg-white/10 rounded-lg px-3 py-2">${w}</div>`,
          )
          .join("");
      }

      document.getElementById("toggle-history").onclick = () => {
        document.getElementById("history-box").classList.toggle("open");
      };

      // ---------- start ----------

      refreshCounters();
      showWord();
    </script>
  </body>
</html>
